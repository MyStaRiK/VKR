# Приложение «ЭЦП-Сервис ИРНИТУ»

**Методика применения простой электронной цифровой подписи для оптимизации работы со студентами в ИРНИТУ**

---

## Описание

Это демонстрационный прототип веб-приложения, разработанного в рамках выпускной квалификационной работы по теме  
«Разработка методики применения ЭЦП для оптимизации работы со студентами в ИРНИТУ».  
Сервис позволяет студентам, преподавателям и административному персоналу:

- Генерировать и безопасно хранить собственную простую ЭЦП (ПЭП);
- Загружать и подписывать электронные документы (заявления, отчёты, ведомости и т. п.);
- Передавать документы на подпись другим пользователям или подразделениям (маршрутизация);
- Проверять и верифицировать полученные цифровые подписи;
- Вести журнал аудита всех операций.

Приложение решает основные узкие места традиционного бумажного документооборота:  
ускоряет оформление заявлений, снижает риск ошибок при вводе данных и повышает прозрачность всех процессов.

---

## Основной функционал

1. **Управление пользователями**  
   - Регистрация и аутентификация (JWT + при необходимости двухфакторная аутентификация TOTP);
   - Роли: студент, преподаватель, администратор.

2. **Генерация и хранение ЭЦП**  
   - Генерация RSA-ключей (2048 бит) прямо в браузере (Web Crypto API);
   - Шифрование закрытого ключа AES-256-GCM + PBKDF2;
   - Хранение зашифрованного ключа в IndexedDB (клиент) и/или в базе (опционально).

3. **Документооборот**  
   - Загрузка документов (PDF, DOCX, XLSX и др.) через REST API;
   - Создание «заявок» на подпись: указание получателя (пользователь/отдел), комментарий;
   - Подписание: клиент отправляет только дайджест (SHA-256), сервер возвращает CAdES-BES контейнер;
   - Проверка подписи получателем и автоматическое обновление статуса.

4. **Журнал аудита**  
   - Логирование ключевых действий: регистрация, вход, генерация ключей, подписи, отказ в подписи;
   - Хранение неизменяемых записей в таблице `audit_log`.

5. **Интерфейс пользователя (React + TypeScript)**  
   - Экран входа/регистрации;
   - Панель управления: быстрый доступ к последним документам и уведомлениям;
   - Списки «Мои документы», «На подписи», «История»;
   - Мастер создания/импорта ЭЦП с пошаговым интерфейсом.

---

## Технологический стек

- **Backend**: Node.js (v14+) + Express  
  - REST API, OAuth2/JWT-аутентификация  
  - SQLite 3 (для прототипа; легко перевести на PostgreSQL)  
  - Модули для ГОСТ-алгоритмов: `crypto-gost` (при необходимости)

- **Frontend**: React 18 + TypeScript  
  - Web Crypto API для генерации и подписи  
  - Компонентная структура, адаптивный дизайн

- **Криптография**:  
  - RSA-2048, SHA-256, AES-256-GCM, PBKDF2  
  - Формат подписи: CAdES-BES; поддержка штампа времени RFC 3161

- **Дополнительно**:  
  - Docker (опционально) для быстрого развёртывания  
  - ESLint/Prettier, Husky для контроля качества кода  
  - Jest + Supertest для автоматизированных тестов API

---


## Серверные зависимости

| Пакет           | Версия         | Описание                                                                                         |
|-----------------|----------------|--------------------------------------------------------------------------------------------------|
| **axios**       | 1.9.0         | Promise-ориентированный HTTP-клиент для браузера и Node.js, используется для внутренних запросов между сервисами и внешних API. |
| **bcrypt**      | 5.1.1         | Крупно-требуемая библиотека для надёжного хеширования паролей (bcrypt).                          |
| **cors**        | 2.8.5         | Middleware для Express, позволяющее настраивать политику CORS (Cross-Origin Resource Sharing).   |
| **dotenv**      | 16.5.0        | Загружает переменные окружения из `.env`-файла в `process.env`.                                 |
| **express**     | 5.1.0         | Минималистичный веб-фреймворк для Node.js, основной каркас серверной части.                     |
| **jsonwebtoken**| 9.0.2         | Работа с JWT (JSON Web Token) — генерация, подпись и верификация токенов аутентификации.         |
| **multer**      | 1.4.5-lts.2   | Middleware для обработки `multipart/form-data`, необходим для загрузки файлов (PDF, DOCX и т. д.). |
| **otplib**      | 12.0.1        | Реализация TOTP/HOTP алгоритмов для двухфакторной аутентификации.                                |
| **pdf-lib**     | 1.17.1        | Чистая JavaScript-библиотека для создания и изменения PDF-документов на сервере.                 |
| **sqlite**      | 5.1.1         | Обёртка для работы с SQLite через промисы, упрощает асинхронные запросы к базе.                 |
| **sqlite3**     | 5.1.7         | Нативный драйвер SQLite для Node.js — обеспечивает низкоуровневый доступ к файлу БД.             |

### DevDependencies

| Пакет     | Версия      | Описание                                            |
|-----------|-------------|-----------------------------------------------------|
| **nodemon** | 3.1.10   | Инструмент для автоматической перезагрузки сервера при изменении кода. |

---

## Фронтенд-зависимости

| Пакет                                    | Версия       | Описание                                                                                     |
|------------------------------------------|--------------|----------------------------------------------------------------------------------------------|
| **react**                                | 19.1.0      | Основная библиотека для построения UI на базе компонент.                                     |
| **react-dom**                            | 19.1.0      | Пакет для рендеринга React-компонентов в DOM.                                               |
| **react-router-dom**                     | 6.30.0      | Маршрутизация в React-приложениях (SPA).                                                    |
| **react-scripts**                        | 5.0.1        | Набор скриптов и конфигураций от Create React App для сборки, разработки и тестирования.    |
| **web-vitals**                           | 2.1.4       | Инструменты для замера ключевых метрик производительности веб-страниц (LCP, FID, CLS и др.). |
| **filter**                               | 0.1.1       | Лёгкая утилита для фильтрации массивов на клиенте (необязательна, опциональна).             |
| **lucide-react**                         | 0.503.0     | Набор настраиваемых SVG-иконок в виде React-компонентов.                                    |
| **@testing-library/react**               | 16.3.0      | Утилиты для тестирования React-компонентов через рендеринг и взаимодействие.                |
| **@testing-library/jest-dom**            | 6.6.3       | Расширения для Jest-матчеров, упрощающие ассерты в DOM-тестах.                               |
| **@testing-library/dom**                 | 10.4.0      | Низкоуровневые утилиты для тестирования DOM-дерева.                                         |
| **@testing-library/user-event**          | 13.5.0      | Симуляция действий пользователя (клики, ввод текста) в тестах.                              |

### DevDependencies

| Пакет  | Версия     | Описание                                                         |
|--------|------------|------------------------------------------------------------------|
| **sass** | 1.87.0  | Компилятор SCSS/Sass для использования препроцессорных стилей.   |



